# MaxPoolV3算子自验测试报告

## 概述
### 约束条件
+ 本报告由华为公司提供，用于描述相应特性的测试过程及结果。报告及内容版权归华为公司所有，非经授权，不可泄露给第三方。
+ 本报告部分章节为可选，请仔细阅读并填写正确的章节，对内容有疑问请及时联系华为众智接口人。
### 软件版本
+ CANN：5.0.4
### 测试目标
+ 验证xx算子建模的训练过程及推理结果。
## 模型功能验证
### 执行入口脚本
`python  max_pool_v3/builder.py`

### 结果分析
#### 样本分布（数据采集正常必写，异常请忽略）
在此处说明数据采集的结果（以表格的形式呈现）
+ 说明采集的样本总量
+ 展现采集的数据类型，格式及形状的分布情况
+ 表格内容要能体现样本分布的广泛性

参考的表格如下

| 变量 | x                                                      | y                                                      | ksize                                                        | strides                                                      | padding_mode                                                | data_format                          | pads                                 | global_pooling                             | ceil_mode                                  |
| ---- | ------------------------------------------------------ | ------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ----------------------------------------------------------- | ------------------------------------ | ------------------------------------ | ------------------------------------------ | ------------------------------------------ |
| 范围 | datatype: **float16** ,format: **NHWC** ,shape: **4D** | datatype: **float16** ,format: **NHWC** ,shape: **4D** | datatype: **int64** ,shape: **1D**,范围：**ksize[1]和ksize[2]：[1,10]；ksize[0]和ksize[3]为1** | datatype: **int64** ,shape: **1D**,范围：**strides[1]和strides[2]：[1,5]；strides[0]和strides[3]为1** | datatype: **string** ,范围：**SAME或VALID**或**CALCULATED** | datatype：**string**，范围：**NHWC** | datatype：**int64**，范围：**[1,5]** | datatype：**bool**，范围：**[True,False]** | datatype：**bool**，范围：**[True,False]** |

#### 建模结果（数据采集正常且建模精度达标必写，其余请忽略）
+ 说明最终使用的模型（包括超参数）及使用的算子特征
+ 说明模型的训练及测试精度
该章节内容以表格的形式呈现，参考的表格如下，其中不同建模场景指对算子样本空间的划分（如示例Add算子按datatype进行建模场景区分）

| 建模场景 | 训练集大小 | 80_percentage_error(取k折交叉验证的平均值) | 测试集大小 | 80_percentage_error | 模型超参数 |算子特征 |
|------|-------|----------------------------------|-------|---------------------|------|------|
|  场景1    | 2000 | 0.2103964 | 400 | 0.17951 | learning_rate=0.1,n_estimators=400, max_depth=6,subsample=1, colsample_bytree=0.6, | floats,H_x,W_x,N_y,H_y,W_y,C_y,H_ksize,W_ksize,H_strides,W_strides,pads,is_SAME,is_VALID,is_CALCULATED,is_global,ceil_mode |

#### W建模精度异常分析（数据采集正常且建模精度不达标必写，其余请忽略）
部分算子由于底层实现的复杂性，开发者难以建立达到目标精度的性能评估模型。开发者在与众智接口人协商确认后，可以启动异常验收流程。本章节为此异常验收流程的主要交付内容之一。
+ 说明建模过程中尝试过的各个模型（包括超参数）及使用的算子特征

+ 说明各模型的训练及测试精度
  示例表格同**建模结果**章节，该章节分析的模型 **至少应包括但不限于xgboost，分段线性函数，PerformanceRegressor**。 

  | 建模场景     | 训练集大小 | 80_percentage_error(取k折交叉验证的平均值) | 测试集大小 | 80_percentage_error | 模型超参数                                                   | 算子特征                                                     |
  | ------------ | ---------- | ------------------------------------------ | ---------- | ------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | XGBoost      | 2000       | 0.2103964                                  | 400        | 0.17951             | learning_rate=0.1,n_estimators=400, max_depth=6,subsample=1, colsample_bytree=0.6, | floats,H_x,W_x,N_y,H_y,W_y,C_y,H_ksize,W_ksize,H_strides,W_strides,pads,is_SAME,is_VALID,is_CALCULATED,is_global,ceil_mode |
  | RandomForest | 2000       | 0.270515                                   | 400        | 0.283196            | n_estimators = 625,max_depth = 6,                            | flops,H_x,W_x,N_y,H_y,W_y,C_y,H_ksize,W_ksize,H_strides,W_strides,pads,is_SAME,is_VALID,is_CALCULATED,is_global,ceil_mode |

### 测试结论
+ 算子性能评估模型训练成功，但建模精度不达标

  